var _      = require('underscore');
var slides = [{id: "slide_3243432", title: "Learning D3.js", header: "What are Data Driven Documents?", content: "D3.js (or just D3 for Data-Driven Documents) is a JavaScript library that uses digital data to drive the creation and control of dynamic and interactive graphical forms which run in web browsers. It is a tool for data visualization in W3C-compliant computing, making use of the widely implemented Scalable Vector Graphics (SVG), JavaScript, HTML5, and Cascading Style Sheets (CSS3) standards. " },
              {id: "slide_324323433", title: "A simple alternative: Raphael.js", header: "Simplicity at its best", content: "RaphaÃ«l is a small JavaScript library that should simplify your work with vector graphics on the web. If you want to create your own specific chart or image crop and rotate widget, for example, you can achieve it simply and easily with this library." },
              {id: "slide_324113434", title: "What about MVC frameworks such as Backbone.js", header: "Why should one use an MVC for web applications?", content: "Backbone.js gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface." },
              {id: "slide_3245563435", title: "Google's framework: Angular.js", header: "Why Angular.js", content: "HTML is great for declaring static documents, but it falters when we try to use it for declaring dynamic views in web-applications. AngularJS lets you extend HTML vocabulary for your application. The resulting environment is extraordinarily expressive, readable, and quick to develop." }, 
              {id: "slide_32438999436", title: "Twitter Bootstrap", header: "Why use Bootstrap?", content: "At its core, Bootstrap is just CSS, but it's built with Less, a flexible pre-processor that offers much more power and flexibility than regular CSS. With Less, we gain a range of features like nested declarations, variables, mixins, operations, and color functions. " }];

module.exports = {
        get: function(id) {

                if(id){
                      var slide = _.findWhere(slides, {id:id});
                      if(slide){
                                return slide;
                      }
                      else {
                                throw new Error('slide not found');
                      }  
                }
                else {
                        return slides;
                }
        }, 
        add: function(slide) {
                slide.id = _.uniqueId('slide_');
                console.log(slide);
                slides.push(slide);
                return this.get(slide.id);
        },
        delete: function(id) {
                var  slide = this.get(id);
                slides = _.without(slides, slide);
                console.log(slides);
        },
        update: function(slide){
                var id = slide.id;
                var oldSlide = this.get(id);
                slides.splice(oldSlide, 1, slide); 
        }
};;